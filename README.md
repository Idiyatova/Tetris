
## Введение
Проект Tetris представляет собой реализацию классической игры Tetris с:
- Библиотека, реализующая логику игры тетрис
- Терминальным интерфейсом с использованием библиотеки `ncurses`
- Тестами

## Структура проекта

### Ядро игры (brick_game/tetris)
- **`tetris.c`** - Основной модуль:
  - `userInput()` - обработка ввода
  - `updateCurrentState()` - получение состояния игры

- **`fsm.c`** - Конечный автомат:
  - Состояния: START, SPAWN, MOVING, etc.
  - Обработка переходов между состояниями

- **`game_controller.c`** - Логика управления:
  - Движение фигур (влево/вправо/вниз)
  - Поворот фигур
  - Проверка коллизий

- **`tetris_logic.c`** - Игровая механика:
  - Генерация фигур (I, O, T, L, J, S, Z)
  - Очистка линий
  - Расчет очков

- **`utils.c`** - Вспомогательные функции:
  - Работа с матрицами
  - Управление памятью

### База данных (SQLite3)
- Хранение рекордов
- Таблица **`highscores`**:
  - `id` - первичный ключ
  - `score` - количество очков
  - `timestamp` - дата достижения


### Терминальный интерфейс
- **`interface.c`** - Реализация:
  - Отрисовка игрового поля
  - Отображение следующей фигуры
  - Вывод счета и уровня
  - Обработка клавиш управления

## Сборка и установка

### Требования
- Библиотеки:
  - ncurses (терминальный интерфейс)
  - SQLite3 (хранение рекордов)
  - Check (для unit-тестов)

### Makefile цели

| Цель | Описание |
|------|----------|
| `make all` | Сборка основного бинарника |
| `make test` | Запуск unit-тестов |
| `make gcov_report` | Генерация отчета о покрытии |


## Управление игрой

### Клавиши

| Клавиша | Действие |
|---------|----------|
| ← → | Движение по горизонтали |
| ↓ | Ускорение падения |
| Space | Поворот фигуры |
| S | Старт |
| P | Пауза |
| Q | Выход |

### Игровая механика
- Система очков:
  - 100 очков за 1 линию
  - 300 за 2 линии
  - 700 за 3 линии
  - 1500 за 4 линии (Tetris)
- Уровни сложности (скорость увеличивается)
- Сохранение рекордов в БД

## Тестирование
Проект включает unit-тесты с использованием библиотеки Check